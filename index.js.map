{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/local-storage-api.js","../src/js/markup-tasks.js","../src/js/render-tasks.js","../src/js/tasks.js","../src/js/theme-switcher.js","../src/main.js"],"sourcesContent":["export const tasksList = document.querySelector('.tasks-list');\nexport const taskForm = document.querySelector('#task-form');\nexport const themeBtn = document.querySelector('.theme-toggle-button');\nexport const body = document.querySelector('body');","export const TASK_LS_KEY = \"task\";\nexport const THEME_LS_KEY = \"theme\";\n\nexport const getFromLocalStorage = (key) => {\n    const saved = localStorage.getItem(key);\n    return JSON.parse(saved);\n};\n\nexport const saveToLocalStorage = (key, data) => {\n    localStorage.setItem(key, JSON.stringify(data));\n};","export default function makeMarkup(arr) {\n\n    return arr.map(({ title, description, id }) =>\n        `<li class=\"task-list-item\" data-id=\"${id}\">\n            <button class=\"task-list-item-btn\">Delete</button>\n            <h3 class=\"task-list-item-title\">${title}</h3>\n            <p class=\"task-list-item-description\">${description}</p>\n        </li>`).join('');\n}\n","import makeMarkup from './markup-tasks';\nimport { tasksList } from './refs';\n\nexport default function renderTasks(data) {\n    tasksList.innerHTML = makeMarkup(data);\n}","import { nanoid } from 'nanoid'\n\nimport { getFromLocalStorage, saveToLocalStorage } from './local-storage-api';\nimport renderTasks from './render-tasks';\nimport { TASK_LS_KEY } from './local-storage-api';\n\n\nexport function handlerAdd(event) {\n    event.preventDefault();\n    const form = event.target;\n\n    const taskName = form.elements.taskName.value.trim();\n    const taskDescription = form.elements.taskDescription.value.trim();\n\n    if (!taskName || !taskDescription) {\n        alert('Fill on all fields');\n        return;\n    }\n\n    const task = {\n        title: taskName,\n        description: taskDescription,\n        id: nanoid()\n    };\n\n    const existingTasks = getFromLocalStorage(TASK_LS_KEY) || [];\n    existingTasks.push(task);\n    saveToLocalStorage(TASK_LS_KEY, existingTasks);\n    renderTasks(existingTasks);\n\n    form.reset();\n\n}\n\n\nexport function handlerRemove(event) {\n    if (!event.target.classList.contains(\"task-list-item-btn\")) {\n        return;\n    }\n\n    const listItem = event.target.closest(\".task-list-item\");\n\n    const taskId = listItem.dataset.id;\n    const updatedData = getFromLocalStorage(TASK_LS_KEY).filter(({ id }) => id !== taskId);\n\n\n    saveToLocalStorage(TASK_LS_KEY, updatedData);\n    renderTasks(updatedData);\n}","import { body } from \"./refs\";\nimport { THEME_LS_KEY, getFromLocalStorage, saveToLocalStorage } from \"./local-storage-api\";\n\nexport function handlerToggleTheme() {\n    const theme = getFromLocalStorage(THEME_LS_KEY) || \"dark\";\n\n    if (theme === \"dark\") {\n        saveToLocalStorage(THEME_LS_KEY, \"light\");\n        body.classList.remove(\"theme-dark\");\n        body.classList.add(\"theme-light\");\n    } else {\n        saveToLocalStorage(THEME_LS_KEY, \"dark\");\n        body.classList.remove(\"theme-light\");\n        body.classList.add(\"theme-dark\");\n    }\n}\n\nexport function loadTheme() {\n    const theme = getFromLocalStorage(THEME_LS_KEY) || \"dark\";\n\n    if (theme === \"light\") {\n        body.classList.add(\"theme-light\");\n        body.classList.remove(\"theme-dark\");\n    } else {\n        body.classList.add(\"theme-dark\");\n        body.classList.remove(\"theme-light\");\n    }\n}","import { taskForm, tasksList, themeBtn } from \"./js/refs\";\nimport { handlerAdd, handlerRemove } from \"./js/tasks\";\nimport { getFromLocalStorage } from \"./js/local-storage-api\";\nimport renderTasks from \"./js/render-tasks\";\nimport { handlerToggleTheme, loadTheme } from \"./js/theme-switcher\";\nimport { TASK_LS_KEY } from \"./js/local-storage-api\";\n\nrenderTasks(getFromLocalStorage(TASK_LS_KEY) || []);\ndocument.addEventListener(\"DOMContentLoaded\", loadTheme);\n\n\ntaskForm.addEventListener('submit', handlerAdd);\ntasksList.addEventListener('click', handlerRemove);\nthemeBtn.addEventListener('click', handlerToggleTheme);"],"names":["tasksList","taskForm","themeBtn","body","TASK_LS_KEY","THEME_LS_KEY","getFromLocalStorage","key","saved","saveToLocalStorage","data","makeMarkup","arr","title","description","id","renderTasks","handlerAdd","event","form","taskName","taskDescription","task","nanoid","existingTasks","handlerRemove","taskId","updatedData","handlerToggleTheme","loadTheme"],"mappings":"svBAAO,MAAMA,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAW,SAAS,cAAc,sBAAsB,EACxDC,EAAO,SAAS,cAAc,MAAM,ECHpCC,EAAc,OACdC,EAAe,QAEfC,EAAuBC,GAAQ,CACxC,MAAMC,EAAQ,aAAa,QAAQD,CAAG,EACtC,OAAO,KAAK,MAAMC,CAAK,CAC3B,EAEaC,EAAqB,CAACF,EAAKG,IAAS,CAC7C,aAAa,QAAQH,EAAK,KAAK,UAAUG,CAAI,CAAC,CAClD,ECVe,SAASC,EAAWC,EAAK,CAEpC,OAAOA,EAAI,IAAI,CAAC,CAAE,MAAAC,EAAO,YAAAC,EAAa,GAAAC,CAAI,IACtC,uCAAuCA,CAAE;AAAA;AAAA,+CAEFF,CAAK;AAAA,oDACAC,CAAW;AAAA,cACjD,EAAE,KAAK,EAAE,CACvB,CCLe,SAASE,EAAYN,EAAM,CACtCV,EAAU,UAAYW,EAAWD,CAAI,CACzC,CCEO,SAASO,EAAWC,EAAO,CAC9BA,EAAM,eAAc,EACpB,MAAMC,EAAOD,EAAM,OAEbE,EAAWD,EAAK,SAAS,SAAS,MAAM,OACxCE,EAAkBF,EAAK,SAAS,gBAAgB,MAAM,OAE5D,GAAI,CAACC,GAAY,CAACC,EAAiB,CAC/B,MAAM,oBAAoB,EAC1B,MACH,CAED,MAAMC,EAAO,CACT,MAAOF,EACP,YAAaC,EACb,GAAIE,EAAQ,CACpB,EAEUC,EAAgBlB,EAAoBF,CAAW,GAAK,CAAA,EAC1DoB,EAAc,KAAKF,CAAI,EACvBb,EAAmBL,EAAaoB,CAAa,EAC7CR,EAAYQ,CAAa,EAEzBL,EAAK,MAAK,CAEd,CAGO,SAASM,EAAcP,EAAO,CACjC,GAAI,CAACA,EAAM,OAAO,UAAU,SAAS,oBAAoB,EACrD,OAKJ,MAAMQ,EAFWR,EAAM,OAAO,QAAQ,iBAAiB,EAE/B,QAAQ,GAC1BS,EAAcrB,EAAoBF,CAAW,EAAE,OAAO,CAAC,CAAE,GAAAW,CAAI,IAAKA,IAAOW,CAAM,EAGrFjB,EAAmBL,EAAauB,CAAW,EAC3CX,EAAYW,CAAW,CAC3B,CC7CO,SAASC,GAAqB,EACnBtB,EAAoBD,CAAY,GAAK,UAErC,QACVI,EAAmBJ,EAAc,OAAO,EACxCF,EAAK,UAAU,OAAO,YAAY,EAClCA,EAAK,UAAU,IAAI,aAAa,IAEhCM,EAAmBJ,EAAc,MAAM,EACvCF,EAAK,UAAU,OAAO,aAAa,EACnCA,EAAK,UAAU,IAAI,YAAY,EAEvC,CAEO,SAAS0B,GAAY,EACVvB,EAAoBD,CAAY,GAAK,UAErC,SACVF,EAAK,UAAU,IAAI,aAAa,EAChCA,EAAK,UAAU,OAAO,YAAY,IAElCA,EAAK,UAAU,IAAI,YAAY,EAC/BA,EAAK,UAAU,OAAO,aAAa,EAE3C,CCpBAa,EAAYV,EAAoBF,CAAW,GAAK,CAAA,CAAE,EAClD,SAAS,iBAAiB,mBAAoByB,CAAS,EAGvD5B,EAAS,iBAAiB,SAAUgB,CAAU,EAC9CjB,EAAU,iBAAiB,QAASyB,CAAa,EACjDvB,EAAS,iBAAiB,QAAS0B,CAAkB"}